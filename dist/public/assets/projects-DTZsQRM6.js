import{c as e,j as s,L as t,r as a,S as r}from"./index-BkdV4sKE.js";import{B as l}from"./button-CgVkZy0Y.js";import{E as o}from"./external-link-g2vE_inW.js";import{P as i}from"./page-header-Bo2XZkDV.js";import"./index-BwHx2GC4.js";import"./particle-background-BQe-WEcT.js";
/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const n=e("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);function d({project:e}){const{title:a,description:r,imageUrl:l,technologies:i=[],demoUrl:n,$id:d}=e,c=r&&r.length>120,m=c?(null==r?void 0:r.substring(0,120))+"...":r;return s.jsx(t,{href:`/projects/${d}`,className:"block h-full",children:s.jsxs("div",{className:"project-card bg-card rounded-2xl overflow-hidden border shadow-sm transition-all duration-300 hover:shadow-xl hover:-translate-y-1 h-full opacity-100 relative z-10 cursor-pointer",style:{opacity:1,visibility:"visible"},children:[s.jsx("img",{src:null==l?void 0:l.replace("/download?","/view?"),alt:`${a} - ${r}`,className:"w-full h-56 object-cover block opacity-100",loading:"lazy",decoding:"async",sizes:"(max-width: 1024px) 100vw, 33vw",onError:e=>{e.currentTarget.src=`https://placehold.co/400x300?text=${encodeURIComponent(a)}`}}),s.jsxs("div",{className:"p-6",children:[s.jsx("h3",{className:"font-heading text-lg md:text-xl font-bold text-card-foreground mb-2","data-testid":`text-project-title-${d}`,children:a}),s.jsx("p",{className:"text-muted-foreground mb-4 text-sm md:text-base leading-relaxed","data-testid":`text-project-description-${d}`,children:m}),c&&s.jsx("div",{className:"text-primary text-sm font-semibold mb-4",children:"Read More"}),s.jsx("div",{className:"flex flex-wrap gap-2 mb-6",children:i.map(e=>s.jsx("span",{className:"px-3 py-1 text-sm rounded-full bg-secondary text-secondary-foreground","data-testid":`tech-${e.toLowerCase()}-${d}`,children:e},e))}),s.jsx("div",{className:"flex gap-4",children:n&&s.jsxs("a",{href:n,target:"_blank",rel:"noopener noreferrer",onClick:e=>e.stopPropagation(),"data-testid":`link-demo-${d}`,className:"inline-flex items-center justify-center rounded-md border border-input bg-background px-3 py-1.5 text-sm font-medium ring-offset-background transition-colors hover:bg-accent hover:text-accent-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",children:[s.jsx(o,{className:"w-4 h-4 mr-2"}),"Live Demo"]})})]})]})})}function c(){return s.jsxs("div",{className:"bg-card rounded-2xl overflow-hidden border shadow-sm",children:[s.jsx(r,{className:"h-56 w-full"}),s.jsxs("div",{className:"p-6 space-y-3",children:[s.jsx(r,{className:"h-5 w-2/3"}),s.jsx(r,{className:"h-4 w-full"}),s.jsx(r,{className:"h-4 w-5/6"}),s.jsxs("div",{className:"flex gap-2 pt-2",children:[s.jsx(r,{className:"h-6 w-16 rounded-full"}),s.jsx(r,{className:"h-6 w-20 rounded-full"})]})]})]})}function m(){const[e,t]=a.useState("all"),{data:r,isLoading:o,error:m}=function(e){const[s,t]=a.useState(),[r,l]=a.useState(!0),[o,i]=a.useState(null);return a.useEffect(()=>{(async()=>{try{l(!0),i(null);const s=sessionStorage.getItem("prefetched-projects");if(s)try{const e=JSON.parse(s);t(e.items)}catch{}const a=e&&"all"!==e?`/api/projects/category/${e}`:"/api/projects",r=await fetch(a);if(!r.ok)throw new Error(`Failed to fetch projects: ${r.status}`);const o=await r.json();t(o)}catch(s){i(s)}finally{l(!1)}})()},[e]),{data:s,isLoading:r,error:o}}(e);return s.jsxs(s.Fragment,{children:[s.jsx(i,{title:s.jsxs(s.Fragment,{children:["Featured ",s.jsx("span",{className:"text-primary",children:"Projects"})]}),subtitle:"A showcase of my latest work, featuring innovative solutions and cutting-edge technologies."}),s.jsx("section",{id:"projects-content",className:"py-24 sm:py-32 bg-background",children:s.jsxs("div",{className:"container mx-auto px-6 lg:px-8 max-w-7xl",children:[s.jsx("div",{className:"flex justify-center mb-16 relative z-50",children:s.jsx("div",{className:"bg-card/80 border rounded-xl p-2 flex gap-2 flex-wrap shadow-sm text-foreground opacity-100",style:{opacity:1,visibility:"visible"},children:[{key:"all",label:"All Projects"},{key:"web",label:"Web"},{key:"app",label:"App"},{key:"data analysis",label:"Data Analysis"}].map(a=>s.jsx(l,{variant:e===a.key?"default":"ghost",onClick:()=>t(a.key),className:"px-5 py-2.5 rounded-lg font-semibold opacity-100 text-foreground focus-visible:ring-primary",style:{opacity:1,visibility:"visible"},"data-testid":`filter-${a.key}`,children:a.label},a.key))})}),o?s.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-6 mb-16",children:Array.from({length:6}).map((e,t)=>s.jsx(c,{},t))}):m?s.jsxs("div",{className:"text-center py-20",children:[s.jsx("h3",{className:"text-2xl font-bold text-destructive mb-4",children:"Failed to load projects"}),s.jsx("p",{className:"text-muted-foreground",children:m.message}),s.jsx("p",{className:"text-sm text-muted-foreground mt-2",children:"Check console for more details"})]}):s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-6 mb-16",children:null==r?void 0:r.map(e=>s.jsx(d,{project:e},e.$id))}),0===(null==r?void 0:r.length)&&s.jsxs("div",{className:"text-center py-20",children:[s.jsx("h3",{className:"text-2xl font-bold text-foreground mb-4",children:"No projects found"}),s.jsx("p",{className:"text-muted-foreground",children:"all"===e?"No projects are available at the moment.":`No ${e} projects found. Try a different filter.`})]}),s.jsx("div",{className:"text-center",children:s.jsxs(l,{size:"lg",variant:"outline","data-testid":"button-load-more",children:[s.jsx(n,{className:"w-5 h-5 mr-2"}),"Load More Projects"]})})]})]})})]})}export{m as default};
